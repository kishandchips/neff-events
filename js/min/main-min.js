!function($){var e={w:$(window),d:$(document),init:function(){this.global.init(),this.header.init(),this.sidebar.init(),this.frontpage.init(),this.single.init(),this.index.init(),this.page.init(),this.products.init(),this.datepicker.init()},loaded:function(){},global:{init:function(){$(".share-popup-btn").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),n=640,i=305,o=($(window).width()-n)/2,r=($(window).height()-i)/2;return window.open(t,"sharer","toolbar=0,status=0,width="+n+",height="+i+",left="+o+", top="+r),!1}),$(".events-btn").on("click",function(e){e.preventDefault(),$("#school-events").slideToggle("300")})}},body:{element:$("body")},header:{element:$("#header"),init:function(){var t=this.element,n=$(".menu-btn",t);n.on("click",function(e){e.preventDefault(),t.toggleClass("navigation-open")}),e.w.on("scroll",this.scroll).trigger("scroll"),this.search.init()},scroll:function(){var t=e.w.scrollTop(),n=e.body.element;t>1?n.addClass("header-fixed"):n.removeClass("header-fixed")},search:{element:$("#header .search-form"),init:function(){var t=this.element,n=t.find(".input");n.on("focus",function(){e.header.element.addClass("search-focus")}).on("blur",function(){e.header.element.removeClass("search-focus")})}}},sidebar:{element:$("#sidebar"),init:function(){var t=e.body.element,n=e.sidebar.element;if(!n.length)return!1;var i=$(".mobile-sidebar-btn",n);i.on("click",function(e){e.preventDefault(),t.toggleClass("sidebar-open")})},products:{init:function(){}}},subscribe:{element:$("#subscribe"),init:function(){var t=e.subscribe.element;return t.length?($(".close-btn",t).on("click",function(){t.removeClass("visible")}),setTimeout(function(){t.addClass("visible"),$.cookie("subscribe_viewed","1",{expires:7})},1e4),void $.removeCookie("subscribe_viewed")):!1}},frontpage:{element:$("#front-page"),init:function(){var e=this.element;return e.length?void this.carousel.init():!1},carousel:{element:$(".featured-carousel"),init:function(){var e=this.element;return e.length?void e.owlCarousel({loop:!0,dots:!0,nav:!1,items:1,autoplay:!0,animateOut:"fadeOut",animateIn:"fadeIn"}):!1}}},single:{element:$("#single"),init:function(){var e=this.element;return e.length?(this.comments.init(),void this.carousel.init()):!1},comments:{element:$(".post-comments"),init:function(){var t=e.single.comments.element;if(!t.length)return!1;var n=$(".comment-btn");n.on("click",function(t){t.preventDefault(),e.single.comments.element.slideToggle(400)})}},carousel:{element:$(".post-carousel"),init:function(){var e=this.element;return e.length?void e.owlCarousel({loop:!0,dots:!1,nav:!0,items:1}):!1}}},page:{element:$("#page"),init:function(){var e=this.element;return e.length?void 0:!1}},index:{element:$("#index"),init:function(){var e=this.element;return e.length?void this.filters.init():!1},filters:{element:$(".filters"),init:function(){var e=this.element,t=$(".category",e),n=$(".date",e);t.on("change",function(){window.location.href=$(this).val()}),n.on("change",function(){window.location.href=$(this).val()})}}},products:{element:$("#archive-product"),init:function(){var e=this.element;if(!e.length)return!1;var t=$(".product-list",e),n=$(".products-navigation .next-btn",e);t.infinitescroll({ajax:{url:url.ajax,data:{action:"get_products",category:t.data("category")}},template:$("#product-item-template").html(),total:20,scroll:!1,loading:function(){n.text("Loading...")},loaded:function(){n.text("Load More")},complete:function(){n.text("No more to load")}}),n.text("Load More").on("click",function(e){e.preventDefault(),t.infinitescroll("load")})},filters:{element:$(".filters"),init:function(){var e=this.element,t=$(".category",e);t.on("change",function(){window.location.href=$(this).val()})}}},datepicker:{init:function(){$("#date_timepicker_start").datetimepicker({format:"Y/m/d",onShow:function(e){this.setOptions({maxDate:$("#date_timepicker_end").val()?$("#date_timepicker_end").val():!1})},timepicker:!1}),$("#date_timepicker_end").datetimepicker({format:"Y/m/d",onShow:function(e){this.setOptions({minDate:$("#date_timepicker_start").val()?$("#date_timepicker_start").val():!1})},timepicker:!1})}},addToUrl:function(e,t){var n=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),i=/\?.+$/;return e=n.test(e)?e.replace(n,"$1"+t+"=true"):i.test(e)?e+"&"+t+"=true":e+"?"+t+"=true"},template:{parse:function(e,t){return e.replace(/\{([\w\.]*)\}/g,function(e,n){for(var i=n.split("."),o=t[i.shift()],r=0,a=i.length;a>r;r++)o=o[i[r]];return"undefined"!=typeof o&&null!==o?o:""})}}};window.main=e,$(function(){window.main.init()})}(jQuery);